# 网络实验项目

这是一个用于计算机网络课程的教学实验项目，包含两个核心实验：停等协议模拟和CRC校验算法实现。

## 实验列表

### 实验1: 停等协议模拟 (Stop-and-Wait Protocol)
简化版的停等协议模拟系统，演示可靠数据传输的基本原理。

### 实验2: CRC校验算法 (Cyclic Redundancy Check)
循环冗余校验算法实现，展示数据错误检测的工作原理。

---

## 实验1: 停等协议模拟

## 项目简介

停等协议是计算机网络中最基本的可靠数据传输协议之一。发送方发送一个数据包后，必须等待接收方的确认（ACK）才能发送下一个数据包。本项目通过Java实现了该协议的模拟，包括：

- 数据包的发送和接收
- ACK确认机制
- 超时重传机制
- 网络环境模拟（延迟、丢包）
- 交替序列号（0和1）

## 项目结构

```
src/sliding_window_protocol/
├── core/                          # 核心实现逻辑
│   └── StopAndWaitProtocol.java   # 停等协议主要实现
├── frontend/                      # 交互界面
│   └── ProtocolDemo.java          # 用户演示程序
├── test/                          # 测试用例  
│   └── SimpleTest.java            # 基本功能测试
└── build/                         # 编译输出目录（自动生成）
    └── *.class                    # 编译后的字节码文件
```

## 文件说明

### 核心实现（core目录）

- **StopAndWaitProtocol.java**: 停等协议的完整实现
  - `Packet` 内部类：数据包结构定义
  - `NetworkSimulator` 内部类：网络环境模拟
  - 发送方逻辑：数据发送、等待ACK、超时重传
  - 接收方逻辑：数据接收、ACK发送

### 交互界面（frontend目录）

- **ProtocolDemo.java**: 控制台交互程序
  - 菜单驱动的用户界面
  - 支持单个/批量消息发送
  - 网络参数调整功能
  - 统计信息显示

### 测试用例（test目录）

- **SimpleTest.java**: 自动化功能测试
  - 基本发送接收测试
  - 网络参数变化测试
  - 统计信息验证

## 编译和运行

### 编译项目

```bash
# 编译所有Java文件到build目录
javac -d src/sliding_window_protocol/build src/sliding_window_protocol/core/*.java src/sliding_window_protocol/frontend/*.java src/sliding_window_protocol/test/*.java
```

### 运行演示程序

```bash
# 运行交互式演示
cd src && java -cp sliding_window_protocol/build sliding_window_protocol.frontend.ProtocolDemo
```

### 运行测试程序

```bash
# 运行功能测试
cd src && java -cp sliding_window_protocol/build sliding_window_protocol.test.SimpleTest
```

## 功能特性

### 协议特性
- ✅ 停等协议核心机制
- ✅ 交替序列号（0,1）
- ✅ 超时重传（最多3次）
- ✅ ACK确认机制
- ✅ 重复包检测

### 网络模拟
- ✅ 可配置的丢包率（默认10%）
- ✅ 可配置的网络延迟（默认100ms）
- ✅ 数据包损坏模拟
- ✅ 传输统计信息

### 用户界面
- ✅ 控制台菜单界面
- ✅ 实时传输过程显示
- ✅ 网络参数动态调整
- ✅ 预定义演示场景

## 使用示例

### 基本使用

1. 启动演示程序
2. 选择"发送单个消息"
3. 输入要发送的文本
4. 观察协议执行过程

### 高级测试

1. 选择"调整网络参数"
2. 设置高丢包率（如30%）
3. 发送消息观察重传过程
4. 查看统计信息分析性能

## 教学要点

本项目适合用于演示以下网络协议概念：

1. **可靠数据传输基础**
   - 确认应答机制
   - 超时重传原理
   - 序列号的作用

2. **协议状态机**
   - 发送方状态转换
   - 接收方行为模式

3. **网络环境影响**
   - 丢包对性能的影响
   - 网络延迟的处理
   - 重传开销分析

## 扩展建议

如需进一步学习，可以考虑以下扩展：

- 实现滑动窗口协议（Go-Back-N）
- 添加选择重传（Selective Repeat）
- 实现流量控制机制
- 增加网络拥塞模拟

## 技术说明

- **开发语言**: Java 8+
- **编程模式**: 面向对象设计
- **线程模型**: 多线程模拟网络异步性
- **设计原则**: 教学友好，代码简洁

---

## 实验2: CRC校验算法

### 项目简介

CRC (Cyclic Redundancy Check) 循环冗余校验是一种广泛应用于数字网络和数据存储中的错误检测方法。本实验通过Java实现了完整的CRC算法体系，包括：

- 多种标准CRC算法（CRC-8、CRC-16、CRC-32）
- 数据编码与校验功能
- 错误检测与定位能力
- 教学演示和性能分析

### 项目结构

```
src/crc_algorithm/
├── core/                      # 核心实现逻辑
│   └── CRCAlgorithm.java     # CRC算法核心实现
├── frontend/                  # 交互界面
│   └── CRCDemo.java          # CRC演示程序
├── test/                      # 测试用例
│   └── CRCTest.java          # CRC功能测试
└── build/                     # 编译输出目录（自动生成）
    └── *.class               # 编译后的字节码文件
```

### 文件说明

#### 核心实现（core目录）

- **CRCAlgorithm.java**: CRC算法的完整实现
  - `CRCType` 枚举：支持的CRC标准类型
  - `CRCResult` 类：封装CRC计算结果
  - 查表法优化：提高计算效率
  - 错误模拟：用于教学演示

#### 交互界面（frontend目录）

- **CRCDemo.java**: 控制台交互程序
  - 基本CRC计算演示
  - 错误检测功能展示
  - 不同CRC算法对比
  - 文件数据校验
  - 教学演示模式
  - 统计信息展示

#### 测试用例（test目录）

- **CRCTest.java**: 自动化功能测试
  - 基本功能正确性测试
  - 标准向量验证测试
  - 边界条件处理测试
  - 错误检测能力测试
  - 性能基准测试

### 编译和运行

#### 编译项目

```bash
# 编译CRC算法模块
javac -d src/crc_algorithm/build src/crc_algorithm/core/*.java src/crc_algorithm/frontend/*.java src/crc_algorithm/test/*.java
```

#### 运行演示程序

```bash
# 运行CRC交互式演示
cd src && java -cp crc_algorithm/build crc_algorithm.frontend.CRCDemo
```

#### 运行测试程序

```bash
# 运行CRC功能测试
cd src && java -cp crc_algorithm/build crc_algorithm.test.CRCTest
```

### 功能特性

#### 算法支持
- ✅ CRC-8 (多项式: x^8 + x^2 + x^1 + 1)
- ✅ CRC-16 IBM标准 (多项式: x^16 + x^15 + x^2 + 1)
- ✅ CRC-32 IEEE标准 (多项式: x^32 + x^26 + ... + 1)
- ✅ 查表法优化计算
- ✅ 自定义生成多项式支持

#### 核心功能
- ✅ 数据编码（添加CRC校验码）
- ✅ 数据校验（检测传输错误）
- ✅ 错误位置定位
- ✅ 单/多比特错误检测
- ✅ 二进制数据可视化

#### 演示功能
- ✅ 交互式计算界面
- ✅ 错误注入模拟
- ✅ 算法性能对比
- ✅ 教学步骤展示
- ✅ 统计信息分析

### 使用示例

#### 基本使用

1. 启动CRC演示程序
2. 选择"基本CRC计算演示"
3. 选择CRC算法类型（CRC-8/16/32）
4. 输入要校验的数据
5. 查看CRC计算结果和详细信息

#### 错误检测演示

1. 选择"错误检测演示"
2. 输入测试数据
3. 系统自动模拟传输错误
4. 观察CRC检错能力和检测率
5. 分析不同算法的检错性能

#### 算法对比

1. 选择"CRC算法对比"
2. 输入相同的测试数据
3. 查看不同CRC算法的计算结果
4. 比较算法特性和应用场景

### 教学要点

本实验适合用于演示以下计算机网络概念：

1. **错误检测基础**
   - CRC算法原理
   - 生成多项式的作用
   - 模运算和异或操作

2. **数据完整性保护**
   - 数据编码过程
   - 校验码生成方法
   - 错误检测机制

3. **算法优化技术**
   - 查表法原理
   - 时间复杂度分析
   - 性能优化方法

4. **实际应用场景**
   - 网络协议中的应用
   - 文件完整性检查
   - 存储设备错误检测

### 扩展建议

如需进一步学习，可以考虑以下扩展：

- 实现BCH码等其他纠错码
- 添加Reed-Solomon编码
- 集成到网络传输协议中
- 实现硬件级CRC计算

### 实验总结

#### 技术栈
- **开发语言**: Java 8+
- **算法复杂度**: O(n) 时间复杂度（查表法）
- **存储需求**: 每种CRC类型需要256项查找表
- **错误检测能力**: 可检测所有单比特错误和大部分多比特错误

#### 项目特色
- **教学导向**: 丰富的中文注释和教学演示功能
- **算法完整**: 支持主流CRC标准，可扩展性强
- **交互友好**: 直观的控制台界面和详细的计算过程展示
- **测试全面**: 包含功能测试、性能测试和边界测试